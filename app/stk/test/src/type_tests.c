// Copyright 16-Apr-2019 ÂºDeme
// GNU General Public License - V3 <http://www.gnu.org/licenses/>

#include "type_tests.h"
#include "assert.h"
#include "Type.h"

void type_tests (void) {
  puts("Type tests:");
/*
  Type *t;
  char *err;

  err = type_from_e(&t, "*");
  assert(!err);
  assert(type_kind(t) == ANY);
  assert(!type_subkind(t));
  type_free(t);
  free(err);

  err = type_from_e(&t, "*x");
  assert (str_eq(err, "'*x': Bad type"));
  type_free(t);
  free(err);

  err = type_from_e(&t, "b");
  assert(!err);
  assert(type_kind(t) == BOOL);
  assert(!type_subkind(t));
  type_free(t);
  free(err);

  err = type_from_e(&t, "bx");
  assert (str_eq(err, "'bx': Bad type"));
  type_free(t);
  free(err);

  err = type_from_e(&t, "y");
  assert(!err);
  assert(type_kind(t) == BYTE);
  assert(!type_subkind(t));
  type_free(t);
  free(err);

  err = type_from_e(&t, "yx");
  assert (str_eq(err, "'yx': Bad type"));
  type_free(t);
  free(err);

  err = type_from_e(&t, "i");
  assert(!err);
  assert(type_kind(t) == INT);
  assert(!type_subkind(t));
  type_free(t);
  free(err);

  err = type_from_e(&t, "ix");
  assert (str_eq(err, "'ix': Bad type"));
  type_free(t);
  free(err);
*/
  puts("    Finised");
}
